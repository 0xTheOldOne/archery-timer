"use strict";(self["webpackChunkarchery_timer"]=self["webpackChunkarchery_timer"]||[]).push([[443],{557:function(t,e,i){i.r(e),i.d(e,{default:function(){return b}});var n=i(252),r=i(963),a=i(577),o=function(t){return(0,n.dD)("data-v-6b845516"),t=t(),(0,n.Cn)(),t},s={class:"settings"},u={key:0},d=o((function(){return(0,n._)("label",{for:"duration"},"Shooting duration :",-1)})),h=(0,n.uE)('<option value="30" data-v-6b845516>30 seconds</option><option value="60" data-v-6b845516>60 seconds</option><option value="90" data-v-6b845516>1 minute and 30 seconds</option><option value="120" data-v-6b845516>2 minutes</option><option value="180" data-v-6b845516>3 minutes</option><option value="240" data-v-6b845516>4 minutes</option>',6),p=[h],c={key:1,class:"phase"},m={key:1,class:"timer end"},l={key:2,class:"commands"};function v(t,e,i,o,h,v){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",s,[t.timer<=0&&t.currentPhase!=t.endPhase?((0,n.wg)(),(0,n.iD)("div",u,[d,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.duration=e})},p,512),[[r.bM,t.duration]])])):t.currentPhase!=t.endPhase?((0,n.wg)(),(0,n.iD)("div",c,(0,a.zw)(t.currentPhase),1)):(0,n.kq)("",!0)]),t.currentPhase!=t.endPhase?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,a.C_)(["timer",t.timerClass])},(0,a.zw)(t.formatTime(t.timer)),3)):((0,n.wg)(),(0,n.iD)("div",m,(0,a.zw)(t.endPhase),1)),t.currentPhase!=t.endPhase?((0,n.wg)(),(0,n.iD)("div",l,[t.timer<=0?((0,n.wg)(),(0,n.iD)("span",{key:0,class:"command material-symbols-outlined",onClick:e[1]||(e[1]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.startTimer&&t.startTimer.apply(t,e)})}," play_circle ")):((0,n.wg)(),(0,n.iD)("span",{key:1,class:"command material-symbols-outlined red",onClick:e[2]||(e[2]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.stopTimer&&t.stopTimer.apply(t,e)})}," stop_circle "))])):(0,n.kq)("",!0)],64)}var f=i(352),P=i(496),y=(0,n.aZ)({name:"HomeView",components:{},data:function(){return{timer:0,duration:120,preparation:10,currentPhase:"",preparationPhase:"💪 Ready ? Prepare...",shootingPhase:"🏹 Shoot !",endPhase:"👏 It's over !",intervalId:void 0,lastPlayedSound:void 0,prepareSound:void 0,bipSound:void 0}},computed:{timerClass:function(){if(this.timer<=10){if(this.currentPhase==this.preparationPhase)return"yellow";if(this.currentPhase==this.shootingPhase)return"red"}return""}},created:function(){this.stopTimer(),this.prepareSound=new Audio(f),this.bipSound=new Audio(P)},mounted:function(){this.stopTimer()},unmounted:function(){this.stopTimer()},methods:{pad:function(t){return t.toString().padStart(2,"0")},formatTime:function(t){Math.floor(t/3600);var e=Math.floor(t%3600/60),i=t%60;return"".concat(this.pad(e),":").concat(this.pad(i))},playSound:function(t){t&&(this.lastPlayedSound=t,t.play())},startTimer:function(){this.preparation&&this.duration&&(this.stopTimer(),this.startPreparationTimer())},stopTimer:function(){clearInterval(this.intervalId),this.timer=0,this.currentPhase="",this.lastPlayedSound&&(this.lastPlayedSound.pause(),this.lastPlayedSound.load(),this.lastPlayedSound=void 0)},startPreparationTimer:function(){var t=this;this.timer=10,this.currentPhase=this.preparationPhase,this.playSound(this.prepareSound),this.intervalId=setInterval((function(){t.timer&&(t.timer--,0===t.timer&&(t.stopTimer(),t.startShootingTimer()))}),1e3)},startShootingTimer:function(){var t=this;this.duration&&(this.timer=this.duration,this.currentPhase=this.shootingPhase,this.playSound(this.bipSound),this.intervalId=setInterval((function(){t.timer&&(t.timer--,0===t.timer&&(t.stopTimer(),t.playSound(t.prepareSound),t.startEndTimer()))}),1e3))},startEndTimer:function(){var t=this;this.timer=5,this.currentPhase=this.endPhase,this.intervalId=setInterval((function(){t.timer&&(t.timer--,0===t.timer&&(t.stopTimer(),t.currentPhase=""))}),1e3)}}}),S=i(744);const T=(0,S.Z)(y,[["render",v],["__scopeId","data-v-6b845516"]]);var b=T},496:function(t,e,i){t.exports=i.p+"media/bip.a4f3d4de.mp3"},352:function(t,e,i){t.exports=i.p+"media/prepare.81967abc.mp3"}}]);
//# sourceMappingURL=about.f205772b.js.map
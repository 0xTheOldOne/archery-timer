"use strict";(self["webpackChunkarchery_timer"]=self["webpackChunkarchery_timer"]||[]).push([[443],{952:function(t,e,r){r.r(e),r.d(e,{default:function(){return $}});var i=r(252),n=r(577),a=r(963),s={class:"settings"},o={key:0},u={for:"duration"},h={value:"20"},c={value:"30"},d={value:"60"},l={value:"90"},p={value:"120"},m={value:"180"},v={value:"240"},f={key:1,class:"phase"},P={key:2,class:"timer end"},y={key:0,class:"commands"};function w(t,e,r,w,g,b){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",s,[t.timer<=0&&t.currentPhase!=t.endPhase?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("label",u,(0,n.zw)(t.$t("duration.label"))+" :",1),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.duration=e})},[(0,i._)("option",h,(0,n.zw)(t.$t("duration.20")),1),(0,i._)("option",c,(0,n.zw)(t.$t("duration.30")),1),(0,i._)("option",d,(0,n.zw)(t.$t("duration.60")),1),(0,i._)("option",l,(0,n.zw)(t.$t("duration.90")),1),(0,i._)("option",p,(0,n.zw)(t.$t("duration.120")),1),(0,i._)("option",m,(0,n.zw)(t.$t("duration.180")),1),(0,i._)("option",v,(0,n.zw)(t.$t("duration.240")),1)],512),[[a.bM,t.duration]])])):t.currentPhase==t.preparationPhase||t.currentPhase==t.hurryPhase||t.currentPhase!=t.endPhase?((0,i.wg)(),(0,i.iD)("div",f,(0,n.zw)(t.currentPhase),1)):(0,i.kq)("",!0)]),(0,i.Wm)(a.uT,{name:"custom-classes","enter-active-class":"animate__animated animate__bounceInLeft","leave-active-class":"animate__animated animate__bounceOutRight"},{default:(0,i.w5)((function(){return[t.currentPhase==t.preparationPhase||""==t.currentPhase?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,n.C_)(["timer",t.timerClass])},(0,n.zw)(t.formatTime(t.timer)),3)):t.currentPhase==t.shootingPhase||t.currentPhase==t.hurryPhase?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,n.C_)(["timer",t.timerClass])},(0,n.zw)(t.formatTime(t.timer)),3)):t.currentPhase==t.endPhase?((0,i.wg)(),(0,i.iD)("div",P,(0,n.zw)(t.endPhase),1)):(0,i.kq)("",!0)]})),_:1}),t.currentPhase!=t.endPhase?((0,i.wg)(),(0,i.iD)("div",y,[(0,i._)("div",null,[t.timer<=0?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"command material-symbols-outlined",onClick:e[1]||(e[1]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.startTimer&&t.startTimer.apply(t,e)})}," play_circle ")):(0,i.kq)("",!0)]),(0,i._)("div",null,[t.timer>0?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"command material-symbols-outlined red",onClick:e[2]||(e[2]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.stopTimer&&t.stopTimer.apply(t,e)})}," stop_circle ")):(0,i.kq)("",!0)])])):(0,i.kq)("",!0)],64)}var g=r(150);var b=function(){return b=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},b.apply(this,arguments)};Object.create;Object.create;var _={en:"English",fr:"FranÃ§ais"};function S(){for(var t=[],e=0,r=Object.keys(_);e<r.length;e++){var i=r[e];t.push({code:i,name:_[i]})}return t}function T(t){void 0===t&&(t={});var e={countryCodeOnly:!1},r=b(b({},e),t),i=void 0!==navigator.languages?navigator.languages[0]:navigator.language;if(i){var n=r.countryCodeOnly?i.trim().split(/-|_/)[0]:i.trim();return n}}var k=r(396),z=r(898),C=r(461),I=(0,i.aZ)({name:"HomeView",components:{},data:function(){return{timer:0,duration:120,preparation:10,currentPhase:"",intervalId:void 0,lastPlayedSound:void 0,bip1Sound:void 0,bip2Sound:void 0,bip3Sound:void 0,locales:S(),browserLocale:T({countryCodeOnly:!0})}},setup:function(){var t=(0,g.QT)().t,e=(0,i.Fl)((function(){return t("phase.prepare")})),r=(0,i.Fl)((function(){return t("phase.shoot")})),n=(0,i.Fl)((function(){return t("phase.hurry")})),a=(0,i.Fl)((function(){return t("phase.end")}));return{preparationPhase:e,shootingPhase:r,hurryPhase:n,endPhase:a}},computed:{hurryUp:function(){var t=0;return t=this.duration>30?15:this.duration>20?10:5,t},timerClass:function(){return(this.currentPhase==this.shootingPhase||this.currentPhase==this.hurryPhase)&&this.timer<=this.hurryUp?"red":this.currentPhase==this.preparationPhase?"yellow":""}},created:function(){this.stopTimer(),this.bip1Sound=new Audio(k),this.bip2Sound=new Audio(z),this.bip3Sound=new Audio(C)},mounted:function(){this.stopTimer(),this.browserLocale&&(this.$i18n.locale=this.browserLocale)},unmounted:function(){this.stopTimer()},methods:{pad:function(t){return t.toString().padStart(2,"0")},formatTime:function(t){Math.floor(t/3600);var e=Math.floor(t%3600/60),r=t%60;return"".concat(this.pad(e),":").concat(this.pad(r))},playSound:function(t){t&&(this.lastPlayedSound=t,t.play())},startTimer:function(){this.preparation&&this.duration&&(this.stopTimer(),this.startPreparationTimer())},stopTimer:function(){clearInterval(this.intervalId),this.timer=0,this.currentPhase="",this.lastPlayedSound&&(this.lastPlayedSound.pause(),this.lastPlayedSound.load(),this.lastPlayedSound=void 0)},startPreparationTimer:function(){var t=this;this.timer=10,this.currentPhase=this.preparationPhase,this.playSound(this.bip3Sound),this.intervalId=setInterval((function(){t.timer&&(t.timer--,0===t.timer&&(t.stopTimer(),t.startShootingTimer()))}),1e3)},startShootingTimer:function(){var t=this;this.duration&&(this.timer=this.duration,this.currentPhase=this.shootingPhase,this.playSound(this.bip1Sound),this.intervalId=setInterval((function(){t.timer&&(t.timer--,t.timer===t.hurryUp&&(t.currentPhase=t.hurryPhase,t.playSound(t.bip2Sound)),0===t.timer&&(t.stopTimer(),t.playSound(t.bip3Sound),t.startEndTimer()))}),1e3))},startEndTimer:function(){var t=this;this.timer=5,this.currentPhase=this.endPhase,this.intervalId=setInterval((function(){t.timer&&(t.timer--,0===t.timer&&(t.stopTimer(),t.currentPhase=""))}),1e3)}}}),O=r(744);const D=(0,O.Z)(I,[["render",w],["__scopeId","data-v-26092e6c"]]);var $=D},396:function(t,e,r){t.exports=r.p+"media/bip-1.a4f3d4de.mp3"},898:function(t,e,r){t.exports=r.p+"media/bip-2.09087c6d.mp3"},461:function(t,e,r){t.exports=r.p+"media/bip-3.81967abc.mp3"}}]);
//# sourceMappingURL=about.7227c109.js.map